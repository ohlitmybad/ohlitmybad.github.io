let initializeCustomSelectors=function(){const _0x4dea49=document['getElementById']('league-select-trigger'),_0x5adaf6=document['getElementById']('league-select-options'),_0x39657f=document['getElementById']('select-league');setupCustomSelect(_0x4dea49,_0x5adaf6,_0x39657f);const _0x2730b0=document['getElementById']('x-metric-trigger'),_0x332968=document['getElementById']('x-metric-options'),_0x33d7e6=document['getElementById']('select-x');populateMetricOptions(_0x332968,header['slice'](0x3),function(_0x1fe544,_0x3dc200){_0x2730b0['querySelector']('span')['textContent']===_0x3dc200&&_0x1fe544['classList']['add']('selected');if(_0x3dc200===header[0x3]){_0x1fe544['classList']['add']('selected'),_0x2730b0['querySelector']('span')['textContent']=_0x3dc200;const _0x536e8a=_0x3dc200['toLowerCase']()['replace'](/ /g,'-')['replace'](/%/g,'pct');_0x2730b0['querySelector']('span')['setAttribute']('data-i18n','metrics.'+_0x536e8a);}}),setupCustomSelect(_0x2730b0,_0x332968,_0x33d7e6);const _0x5e139b=document['getElementById']('y-metric-trigger'),_0x187c87=document['getElementById']('y-metric-options'),_0x573f7b=document['getElementById']('select-y');populateMetricOptions(_0x187c87,header['slice'](0x3),function(_0x4a5c59,_0x13e2b9){_0x5e139b['querySelector']('span')['textContent']===_0x13e2b9&&_0x4a5c59['classList']['add']('selected');if(_0x13e2b9===header[0x4]){_0x4a5c59['classList']['add']('selected'),_0x5e139b['querySelector']('span')['textContent']=_0x13e2b9;const _0x2f3ce7=_0x13e2b9['toLowerCase']()['replace'](/ /g,'-')['replace'](/%/g,'pct');_0x5e139b['querySelector']('span')['setAttribute']('data-i18n','metrics.'+_0x2f3ce7);}}),setupCustomSelect(_0x5e139b,_0x187c87,_0x573f7b);};function populateMetricOptions(_0x48cd2a,_0x565978,_0x20f86c){_0x48cd2a['innerHTML']='',_0x565978['forEach'](function(_0x310518){const _0x1c1a06=document['createElement']('div');_0x1c1a06['className']='metric-select-option',_0x1c1a06['setAttribute']('data-value',_0x310518);const _0x4e5026=document['createElement']('span');_0x4e5026['textContent']=_0x310518;const _0x3fce61=_0x310518['toLowerCase']()['replace'](/ /g,'-')['replace'](/%/g,'pct');_0x4e5026['setAttribute']('data-i18n','metrics.'+_0x3fce61),_0x1c1a06['appendChild'](_0x4e5026);if(_0x20f86c)_0x20f86c(_0x1c1a06,_0x310518);_0x48cd2a['appendChild'](_0x1c1a06);});}function setupCustomSelect(_0x235062,_0x55656e,_0x3883fd){_0x235062['addEventListener']('click',function(){document['querySelectorAll']('.custom-select-trigger.open,\x20.metric-select-trigger.open')['forEach'](function(_0x1a5003){if(_0x1a5003!==_0x235062){_0x1a5003['classList']['remove']('open');const _0x12679a=_0x1a5003['nextElementSibling'];if(_0x12679a)_0x12679a['style']['display']='none';}}),_0x235062['classList']['toggle']('open');const _0x3e1fc2=_0x235062['classList']['contains']('open');_0x55656e['style']['display']=_0x3e1fc2?'block':'none';});const _0x2f9acd=_0x55656e['querySelectorAll']('.custom-select-option,\x20.metric-select-option');_0x2f9acd['forEach'](_0x2592ab=>{_0x2592ab['addEventListener']('click',function(){_0x2f9acd['forEach'](_0x24e024=>_0x24e024['classList']['remove']('selected')),this['classList']['add']('selected');const _0x1274ac=this['querySelector']('span')['textContent'],_0x2e1419=this['querySelector']('span')['getAttribute']('data-i18n'),_0xceffd2=this['querySelector']('iconify-icon');_0x235062['innerHTML']='';if(_0xceffd2){const _0x32ff71=_0xceffd2['cloneNode'](!![]);_0x32ff71['style']['marginRight']='8px',_0x235062['appendChild'](_0x32ff71);}const _0x11dcbf=document['createElement']('span');_0x11dcbf['textContent']=_0x1274ac;_0x2e1419&&_0x11dcbf['setAttribute']('data-i18n',_0x2e1419);_0x235062['appendChild'](_0x11dcbf);const _0x411e70=this['getAttribute']('data-value');_0x3883fd['value']=_0x411e70||_0x1274ac;const _0x153988=new Event('change');_0x3883fd['dispatchEvent'](_0x153988),_0x235062['classList']['remove']('open'),_0x55656e['style']['display']='none';});});let _0x355174='',_0x5a82b8;document['addEventListener']('keydown',function(_0x509b99){if(!_0x235062['classList']['contains']('open'))return;if(_0x509b99['key']==='ArrowDown'||_0x509b99['key']==='ArrowUp'){_0x509b99['preventDefault']();const _0x151009=Array['from'](_0x2f9acd),_0x36adb6=_0x151009['findIndex'](_0x4303d9=>_0x4303d9['classList']['contains']('selected'));let _0x5b5527;_0x509b99['key']==='ArrowDown'?_0x5b5527=_0x36adb6<_0x151009['length']-0x1?_0x36adb6+0x1:0x0:_0x5b5527=_0x36adb6>0x0?_0x36adb6-0x1:_0x151009['length']-0x1;_0x2f9acd['forEach'](_0x43e514=>_0x43e514['classList']['remove']('selected')),_0x151009[_0x5b5527]['classList']['add']('selected'),_0x151009[_0x5b5527]['scrollIntoView']({'block':'nearest'});return;}if(_0x509b99['key']==='Enter'){_0x509b99['preventDefault']();const _0x203996=_0x55656e['querySelector']('.selected');_0x203996&&_0x203996['click']();return;}if(_0x509b99['key']==='Escape'){_0x509b99['preventDefault'](),_0x235062['classList']['remove']('open'),_0x55656e['style']['display']='none';return;}if(_0x509b99['key']['length']===0x1&&_0x509b99['key']['match'](/[a-zA-Z0-9%]/)){clearTimeout(_0x5a82b8),_0x355174+=_0x509b99['key']['toLowerCase']();const _0x164368=Array['from'](_0x2f9acd)['find'](_0x366ad7=>{const _0x33b148=_0x366ad7['querySelector']('span')['textContent']['toLowerCase']();return _0x33b148['startsWith'](_0x355174);});_0x164368&&(_0x2f9acd['forEach'](_0x20246f=>_0x20246f['classList']['remove']('selected')),_0x164368['classList']['add']('selected'),_0x164368['scrollIntoView']({'block':'nearest'})),_0x5a82b8=setTimeout(()=>{_0x355174='';},0x3e8);}});}document['addEventListener']('click',function(_0x5d86e4){const _0x3181a2=document['querySelectorAll']('.custom-select-trigger,\x20.metric-select-trigger'),_0x490106=document['querySelectorAll']('.custom-select-options,\x20.metric-select-options');let _0x4c13c4=![];_0x3181a2['forEach'](function(_0xf29446,_0x23ebca){const _0x2ff253=_0x490106[_0x23ebca];_0xf29446&&_0x2ff253&&(_0xf29446['contains'](_0x5d86e4['target'])||_0x2ff253['contains'](_0x5d86e4['target']))&&(_0x4c13c4=!![]);}),!_0x4c13c4&&_0x3181a2['forEach'](function(_0x367a1e,_0x5d0775){_0x367a1e&&_0x490106[_0x5d0775]&&(_0x367a1e['classList']['remove']('open'),_0x490106[_0x5d0775]['style']['display']='none');});});const xhr=new XMLHttpRequest();xhr['open']('GET','https://datamb.football/database/TEAM/teamplots.csv',![]),xhr['send'](null);let csvData=xhr['responseText'],extraHeaderRow='ID,Player,Top\x207\x20Leagues,Goals\x20per\x2090,xG\x20per\x2090,Shots\x20on\x20target\x20per\x2090,Shots\x20on\x20target\x20%,Passes\x20completed,Pass\x20accuracy\x20%,Possession\x20%,Positional\x20attacks\x20per\x2090,Counter\x20attacks\x20per\x2090,Touches\x20in\x20the\x20box\x20per\x2090,Goals\x20conceded\x20per\x2090,SoT\x20against\x20per\x2090,Defensive\x20duels\x20per\x2090,Defensive\x20duel\x20%,Aerial\x20duels\x20per\x2090,Aerial\x20duels\x20%,Passes\x20per\x20possession,PPDA\x0a';csvData=extraHeaderRow+csvData;var rows=csvData['trim']()['split']('\x0a'),header=rows[0x0]['split'](','),data=rows['slice'](0x1)['map'](function(_0x2f24dc){return _0x2f24dc['split'](',')['map'](function(_0x391c0e,_0x51455b){return _0x51455b>=0x3?parseFloat(_0x391c0e):_0x391c0e;});}),margin={'top':0x0,'right':0x0,'bottom':0x0,'left':0x0},width=0x43a-margin['left']-margin['right'],height=0x302-margin['top']-margin['bottom'],leagueColors={'Premier\x20League':'rgb(255,\x200,\x200,\x200.7)','La\x20Liga':'rgb(255,\x20223,\x200,\x200.7)','Bundesliga':'rgb(85,\x20209,\x2073,\x200.7)','Serie\x20A':'rgb(0,\x20191,\x20255,\x200.7)','Ligue\x201':'rgb(153,\x2050,\x20204,\x200.7)','Eredivisie':'rgb(255,\x20140,\x200,\x200.7)','Primeira\x20Liga':'rgb(255,\x2020,\x20147,\x200.7)'};function getLeagueColor(_0x1271b5){return leagueColors[_0x1271b5]||'rgba(255,\x200,\x200,\x200.7)';}function updateChartDimensions(){var _0x4c696c=document['querySelector']('.chart-wrapper')['clientWidth'],_0x31af77=window['innerHeight']*0.7,_0x18e424=0x1e,_0x419724=Math['min'](0x43a,_0x4c696c-_0x18e424*0x2),_0x343be6=window['innerWidth']/window['innerHeight']<0x1;if(_0x343be6){margin={'top':0x28,'right':0x1e,'bottom':0x3c,'left':0x4b};var _0x4efad0=1.4,_0x5a30b2=Math['min'](_0x31af77,_0x419724*_0x4efad0);_0x5a30b2=Math['max'](_0x5a30b2,0x1f4);}else{margin={'top':0x28,'right':0x1e,'bottom':0x3c,'left':0x4f};var _0x5ef778=0.7,_0x5a30b2=_0x419724*_0x5ef778;}width=_0x419724-margin['left']-margin['right'],height=_0x5a30b2-margin['top']-margin['bottom'],d3['select']('#scatter-plot')['attr']('width',_0x419724)['attr']('height',_0x5a30b2),document['querySelector']('.chart-container')['style']['height']=_0x5a30b2+'px';}window['addEventListener']('resize',function(){updateChartDimensions(),requestAnimationFrame(function(){updateChart();});}),updateChartDimensions();function debounce(_0x4dcb1b,_0x32c11e){let _0x5ad10e;return function(){const _0x3b69ba=this,_0x5db94a=arguments;clearTimeout(_0x5ad10e),_0x5ad10e=setTimeout(function(){_0x4dcb1b['apply'](_0x3b69ba,_0x5db94a);},_0x32c11e);};}var prevWindowWidth=window['innerWidth'],prevWindowHeight=window['innerHeight'];window['addEventListener']('resize',debounce(function(){var _0x2d5c9b=prevWindowWidth/prevWindowHeight<0x1,_0x21d7fc=window['innerWidth']/window['innerHeight']<0x1;prevWindowWidth=window['innerWidth'],prevWindowHeight=window['innerHeight'],requestAnimationFrame(function(){updateChart();});},0x32));var medianLinesVisible=![],selectX=d3['select']('#select-x'),selectY=d3['select']('#select-y'),names=data['map'](function(_0x55cc4e){return _0x55cc4e[0x1];});header['slice'](0x3)['forEach'](function(_0x4e67a4){selectX['append']('option')['text'](_0x4e67a4)['attr']('value',_0x4e67a4),selectY['append']('option')['text'](_0x4e67a4)['attr']('value',_0x4e67a4);}),selectX['property']('value',header[0x3]),selectY['property']('value',header[0x4]);var svg=d3['select']('#scatter-plot')['attr']('width',width+margin['left']+margin['right'])['attr']('height',height+margin['top']+margin['bottom'])['append']('g')['attr']('transform','translate('+margin['left']+','+margin['top']+')'),xMetric=header[0x3],yMetric=header[0x4],xScale=d3['scaleLinear']()['range']([0x0,width]),yScale=d3['scaleLinear']()['range']([height,0x0]),xAxis=d3['axisBottom'](xScale)['tickSize'](0x0),yAxis=d3['axisLeft'](yScale)['tickSize'](0x0),gXAxis=svg['append']('g')['attr']('class','x-axis')['attr']('transform','translate(0,'+height+')'),gYAxis=svg['append']('g')['attr']('class','y-axis'),xLabel=svg['append']('text')['attr']('class','x-label')['attr']('text-anchor','end')['attr']('x',width)['attr']('y',height+0x23)['style']('font-family','Inter,\x20sans-serif')['style']('font-size','14px'),yLabel=svg['append']('text')['attr']('class','y-label')['attr']('text-anchor','end')['attr']('transform','rotate(-90)')['attr']('y',-0x35)['attr']('x',0x0)['style']('font-family','Inter,\x20sans-serif')['style']('font-size','14px'),tooltip=d3['select']('body')['append']('div')['attr']('class','tooltip');function isMobileDevice(){return window['innerWidth']<=0x300;}function positionTooltip(_0x2df11c,_0x30cfe6){const _0x58f0e9=_0x30cfe6['node']();if(!_0x58f0e9)return{'left':0x0,'top':0x0};const _0x5836a1=_0x58f0e9['getBoundingClientRect'](),_0x32fa75=window['innerWidth'],_0x5a0881=window['innerHeight'];let _0x2192e8=_0x2df11c['pageX']+0xa,_0x2bc1ae=_0x2df11c['pageY']-0x1c;return _0x2192e8+_0x5836a1['width']>_0x32fa75-0xa&&(_0x2192e8=_0x2df11c['pageX']-_0x5836a1['width']-0xa),_0x2bc1ae+_0x5836a1['height']>_0x5a0881-0xa&&(_0x2bc1ae=_0x2df11c['pageY']-_0x5836a1['height']-0xa),_0x2192e8=Math['max'](0xa,_0x2192e8),_0x2bc1ae=Math['max'](0xa,_0x2bc1ae),{'left':_0x2192e8,'top':_0x2bc1ae};}var clickedCircles=[],filteredData=data,filteredNames=names,circles;function updateChart(){updateChartDimensions(),d3['select']('#scatter-plot')['attr']('width',width+margin['left']+margin['right'])['attr']('height',height+margin['top']+margin['bottom']),gXAxis['attr']('transform','translate(0,'+height+')'),xLabel['attr']('x',width)['attr']('y',height+0x23),yLabel['attr']('x',0x0);const _0x3dee75=document['body']['classList']['contains']('dark-mode');var _0x29a6d9=document['getElementById']('select-league')['value'];if(_0x29a6d9==='all')filteredData=data;else _0x29a6d9==='Top\x205\x20Leagues'?filteredData=data['filter'](function(_0x1ab84a){return _0x1ab84a[0x2]==='Premier\x20League'||_0x1ab84a[0x2]==='La\x20Liga'||_0x1ab84a[0x2]==='Bundesliga'||_0x1ab84a[0x2]==='Serie\x20A'||_0x1ab84a[0x2]==='Ligue\x201';}):filteredData=data['filter'](function(_0x5df4dd){return _0x5df4dd[0x2]===_0x29a6d9;});filteredNames=filteredData['map'](function(_0x54fca4){return _0x54fca4[0x1];}),xMetric=selectX['property']('value'),yMetric=selectY['property']('value'),xScale['range']([0x0,width])['domain']((function(){const _0x140410=d3['extent'](filteredData,function(_0x4981a0){return+_0x4981a0[header['indexOf'](xMetric)];}),_0x44b536=d3['scaleLinear']()['domain'](_0x140410)['nice'](),_0x4e4770=_0x44b536['domain'](),_0xf2b133=_0x140410[0x1]-_0x140410[0x0],_0x25d712=_0x4e4770[0x1]-_0x4e4770[0x0];if(_0x25d712/_0xf2b133>1.2){const _0x1a57cf=_0xf2b133*0.1;return[_0x140410[0x0]-_0x1a57cf,_0x140410[0x1]+_0x1a57cf];}else return _0x4e4770;}())),yScale['range']([height,0x0])['domain']((function(){const _0x309be8=d3['extent'](filteredData,function(_0x31b2c9){return+_0x31b2c9[header['indexOf'](yMetric)];}),_0x2865e8=d3['scaleLinear']()['domain'](_0x309be8)['nice'](),_0x224d87=_0x2865e8['domain'](),_0x142f1b=_0x309be8[0x1]-_0x309be8[0x0],_0x384c10=_0x224d87[0x1]-_0x224d87[0x0];if(_0x384c10/_0x142f1b>1.2){const _0x127eea=_0x142f1b*0.1;return[_0x309be8[0x0]-_0x127eea,_0x309be8[0x1]+_0x127eea];}else return _0x224d87;}())),gXAxis['call'](d3['axisBottom'](xScale)['tickSize'](0x0)),gYAxis['call'](d3['axisLeft'](yScale)['tickSize'](0x0));const _0x2c7a8d='metrics.'+xMetric['toLowerCase']()['replace'](/ /g,'-')['replace'](/%/g,'pct'),_0x4c0a27='metrics.'+yMetric['toLowerCase']()['replace'](/ /g,'-')['replace'](/%/g,'pct');xLabel['attr']('data-i18n',_0x2c7a8d),yLabel['attr']('data-i18n',_0x4c0a27);if(window['currentTranslations']&&window['currentTranslations']['metrics']){const _0x127e9c=xMetric['toLowerCase']()['replace'](/ /g,'-')['replace'](/%/g,'pct'),_0x49cc34=yMetric['toLowerCase']()['replace'](/ /g,'-')['replace'](/%/g,'pct'),_0xdaad09=window['currentTranslations']['metrics'][_0x127e9c],_0x171864=window['currentTranslations']['metrics'][_0x49cc34];xLabel['text'](_0xdaad09||xMetric),yLabel['text'](_0x171864||yMetric);}else xLabel['text'](xMetric),yLabel['text'](yMetric);svg['selectAll']('circle')['remove'](),svg['selectAll']('.team-label')['remove'](),svg['selectAll']('.xy-line')['remove'](),svg['selectAll']('.xy-line-bg')['remove'](),svg['selectAll']('.xy-line-label')['remove'](),svg['selectAll']('.xy-line-label-bg')['remove'](),svg['selectAll']('.performance-label')['remove'](),svg['selectAll']('linearGradient#line-gradient')['remove'](),svg['selectAll']('marker#arrow-over,\x20marker#arrow-under')['remove'](),svg['selectAll']('.xy-line-hover')['remove'](),svg['selectAll']('.median-line')['remove']();if(xMetric==='xG\x20per\x2090'&&yMetric==='Goals\x20per\x2090'||xMetric==='Goals\x20per\x2090'&&yMetric==='xG\x20per\x2090'){var _0x5a9f62=null,_0x20f7f7=d3['min'](filteredData,function(_0x99e1de){return _0x99e1de[header['indexOf'](xMetric)];}),_0x5c94a4=d3['max'](filteredData,function(_0x126399){return _0x126399[header['indexOf'](xMetric)];}),_0x2e0e7d=d3['min'](filteredData,function(_0x3f4f0c){return _0x3f4f0c[header['indexOf'](yMetric)];}),_0x21a18b=d3['max'](filteredData,function(_0x4d5491){return _0x4d5491[header['indexOf'](yMetric)];}),_0x1e0ff6=Math['min'](_0x5c94a4,_0x21a18b),_0x4ad970=Math['max'](_0x20f7f7,_0x2e0e7d);svg['append']('line')['attr']('class','xy-line')['attr']('x1',xScale(_0x4ad970))['attr']('y1',yScale(_0x4ad970))['attr']('x2',xScale(_0x1e0ff6))['attr']('y2',yScale(_0x1e0ff6))['style']('stroke','#2ecc71')['style']('stroke-width','2')['style']('stroke-dasharray','5,3'),svg['append']('line')['attr']('class','xy-line-hover')['attr']('x1',xScale(_0x4ad970))['attr']('y1',yScale(_0x4ad970))['attr']('x2',xScale(_0x1e0ff6))['attr']('y2',yScale(_0x1e0ff6))['style']('stroke','transparent')['style']('stroke-width','15')['style']('cursor','help')['on']('mouseover',function(){_0x5a9f62&&clearTimeout(_0x5a9f62);var _0x32978e=d3['event']['pageX'],_0x5e31bd=d3['event']['pageY'];_0x5a9f62=setTimeout(function(){tooltip['transition']()['duration'](0xc8)['style']('opacity',0.9);var _0x23e5ed='<strong>'+getTranslation('tooltip.xg-line-title','G\x20=\x20xG\x20Line')+'</strong><br/>';xMetric==='xG\x20per\x2090'&&yMetric==='Goals\x20per\x2090'?_0x23e5ed+='<span>'+getTranslation('tooltip.xg-line-above','Teams\x20above\x20this\x20line\x20are\x20scoring\x20more\x20goals\x20than\x20expected.')+'</span><br/>'+'<span>'+getTranslation('tooltip.xg-line-below','Teams\x20below\x20this\x20line\x20are\x20scoring\x20fewer\x20goals\x20than\x20expected.')+'</span>':_0x23e5ed+='<span>'+getTranslation('tooltip.xg-line-right','Teams\x20right\x20of\x20this\x20line\x20are\x20scoring\x20more\x20goals\x20than\x20expected.')+'</span><br/>'+'<span>'+getTranslation('tooltip.xg-line-left','Teams\x20left\x20of\x20this\x20line\x20are\x20scoring\x20fewer\x20goals\x20than\x20expected.')+'</span>',tooltip['html'](_0x23e5ed)['style']('left',_0x32978e+0xa+'px')['style']('top',_0x5e31bd-0x1c+'px');},0x258);})['on']('mouseout',function(){_0x5a9f62&&(clearTimeout(_0x5a9f62),_0x5a9f62=null),tooltip['transition']()['duration'](0x1f4)['style']('opacity',0x0);});}if(medianLinesVisible){var _0x52e073=d3['median'](filteredData,function(_0x280493){return _0x280493[header['indexOf'](xMetric)];}),_0x260553=d3['median'](filteredData,function(_0x55c774){return _0x55c774[header['indexOf'](yMetric)];});svg['append']('line')['attr']('class','median-line')['attr']('x1',xScale(_0x52e073))['attr']('y1',0x0)['attr']('x2',xScale(_0x52e073))['attr']('y2',height)['style']('stroke','rgba(0,\x200,\x200,\x200.3)')['style']('stroke-dasharray','4'),svg['append']('line')['attr']('class','median-line')['attr']('x1',0x0)['attr']('y1',yScale(_0x260553))['attr']('x2',width)['attr']('y2',yScale(_0x260553))['style']('stroke','rgba(0,\x200,\x200,\x200.3)')['style']('stroke-dasharray','4');}circles=svg['selectAll']('circle')['data'](filteredData)['enter']()['append']('circle')['attr']('cx',function(_0x2a09af){return xScale(_0x2a09af[header['indexOf'](xMetric)]);})['attr']('cy',function(_0x4342f7){return yScale(_0x4342f7[header['indexOf'](yMetric)]);})['attr']('r',0x9)['style']('fill',function(_0xc5735a){if(clickedCircles['includes'](_0xc5735a[0x1]))return getLeagueColor(_0xc5735a[0x2]);return'rgba(70,\x20130,\x20180,\x200.7)';})['style']('stroke',function(_0x59fb51){return clickedCircles['includes'](_0x59fb51[0x1])?'#000':'none';})['style']('stroke-width',function(_0x5acd91){return clickedCircles['includes'](_0x5acd91[0x1])?0x2:0x0;})['style']('cursor','pointer')['on']('mouseover',function(_0x50e6ab){d3['select'](this)['transition']()['duration'](0xc8)['attr']('r',11.2)['style']('fill',getLeagueColor(_0x50e6ab[0x2])),tooltip['transition']()['duration'](0xc8)['style']('opacity',0.9);const _0x11f965='metrics.'+xMetric['toLowerCase']()['replace'](/ /g,'-')['replace'](/%/g,'pct'),_0xfa53bd='metrics.'+yMetric['toLowerCase']()['replace'](/ /g,'-')['replace'](/%/g,'pct'),_0x29d019=getTranslation(_0x11f965,xMetric),_0x2a5913=getTranslation(_0xfa53bd,yMetric);tooltip['html']('<strong>'+_0x50e6ab[0x1]+'</strong><br/>'+_0x29d019+':\x20'+_0x50e6ab[header['indexOf'](xMetric)]['toFixed'](0x2)+'<br/>'+_0x2a5913+':\x20'+_0x50e6ab[header['indexOf'](yMetric)]['toFixed'](0x2));const _0x2ed296=tooltip['node']();if(_0x2ed296){const _0x4c61c3=_0x2ed296['getBoundingClientRect'](),_0x1560cc=window['innerWidth'],_0x10a931=window['innerHeight'];let _0x525f99=d3['event']['pageX']+0xa,_0x4e1d5c=d3['event']['pageY']-0x1c;_0x525f99+_0x4c61c3['width']>_0x1560cc-0xa&&(_0x525f99=d3['event']['pageX']-_0x4c61c3['width']-0xa),_0x4e1d5c+_0x4c61c3['height']>_0x10a931-0xa&&(_0x4e1d5c=d3['event']['pageY']-_0x4c61c3['height']-0xa),_0x525f99=Math['max'](0xa,_0x525f99),_0x4e1d5c=Math['max'](0xa,_0x4e1d5c),tooltip['style']('left',_0x525f99+'px')['style']('top',_0x4e1d5c+'px');}else tooltip['style']('left',d3['event']['pageX']+0xa+'px')['style']('top',d3['event']['pageY']-0x1c+'px');window['innerWidth']<=0x300&&setTimeout(function(){tooltip['transition']()['duration'](0xc8)['style']('opacity',0x0);},0x3e8);})['on']('mouseout',function(_0x35048d){window['innerWidth']>0x300&&tooltip['transition']()['duration'](0x1f4)['style']('opacity',0x0);var _0x1b1ef9=clickedCircles['includes'](_0x35048d[0x1]);d3['select'](this)['transition']()['duration'](0xc8)['attr']('r',0x9)['style']('fill',function(){return _0x1b1ef9?getLeagueColor(_0x35048d[0x2]):'rgba(70,\x20130,\x20180,\x200.7)';});})['on']('click',function(_0x552706){var _0x159938=d3['select'](this)['classed']('search-match');_0x159938&&resetSearch();var _0x1a2fc6=clickedCircles['indexOf'](_0x552706[0x1]);_0x1a2fc6===-0x1?(clickedCircles['push'](_0x552706[0x1]),d3['select'](this)['style']('fill',getLeagueColor(_0x552706[0x2]))['style']('stroke','#000')['style']('stroke-width',0x2),addTeamLabel(_0x552706)):(clickedCircles['splice'](_0x1a2fc6,0x1),d3['select'](this)['style']('fill','rgba(70,\x20130,\x20180,\x200.7)')['style']('stroke','none'),svg['selectAll']('.team-label-'+_0x552706[0x1]['replace'](/\s+/g,'-')['toLowerCase']())['remove']());updateSelectAllButtonText();var _0x5b1519=document['getElementById']('select-league')['value'];updateLeagueLegend(_0x5b1519);}),clickedCircles['forEach'](function(_0x4ea275){var _0x26df6c=filteredData['find'](function(_0x594e20){return _0x594e20[0x1]===_0x4ea275;});_0x26df6c&&addTeamLabel(_0x26df6c);}),updateSelectAllButtonText(),updateLeagueLegend(_0x29a6d9);}function updateSelectAllButtonText(){var _0x563ef9=document['getElementById']('select-icon'),_0xbd29c3=document['getElementById']('select-all-tooltip'),_0x39ffd3=filteredData['every'](function(_0x704de0){return clickedCircles['includes'](_0x704de0[0x1]);});_0x39ffd3?(_0x563ef9['className']='ion-ios-circle-outline',_0xbd29c3&&(window['currentTranslations']&&window['currentTranslations']['tooltip']?_0xbd29c3['textContent']=window['currentTranslations']['tooltip']['unselectAll']||'Unselect\x20all\x20teams':_0xbd29c3['textContent']='Unselect\x20all\x20teams')):(_0x563ef9['className']='ion-ios-circle-filled',_0xbd29c3&&(window['currentTranslations']&&window['currentTranslations']['tooltip']?_0xbd29c3['textContent']=window['currentTranslations']['tooltip']['selectAll']||'Select\x20all\x20teams':_0xbd29c3['textContent']='Select\x20all\x20teams'));}selectX['on']('change',updateChart),selectY['on']('change',updateChart);function removeSpecialCharsAndDiacritics(_0x43bfd0){if(!_0x43bfd0)return'';return _0x43bfd0['normalize']('NFD')['replace'](/[\u0300-\u036f]/g,'')['replace'](/Ø/g,'O')['replace'](/ø/g,'o');}var searchBar=document['getElementById']('search-bar');searchBar['addEventListener']('input',function(){var _0x12611f=searchBar['value']['toLowerCase']();if(_0x12611f===''){resetSearch();return;}var _0x10c6a0=removeSpecialCharsAndDiacritics(_0x12611f);svg['selectAll']('circle')['classed']('search-match',![])['style']('fill',function(_0x14e35f){return clickedCircles['includes'](_0x14e35f[0x1])?getLeagueColor(_0x14e35f[0x2]):'rgba(70,\x20130,\x20180,\x200.7)';})['style']('stroke',function(_0x1d8a7a){return clickedCircles['includes'](_0x1d8a7a[0x1])?'#000':'none';})['style']('stroke-width',function(_0x2b716c){return clickedCircles['includes'](_0x2b716c[0x1])?0x2:0x0;})['style']('filter','none')['each'](function(){d3['select'](this)['style']('r',null);}),svg['selectAll']('.team-label')['classed']('search-match',![])['classed']('search-dimmed',![]);var _0x45991d=[];svg['selectAll']('circle')['filter'](function(_0x3312c5){var _0x30391f=_0x3312c5[0x1]['toLowerCase'](),_0x1e965d=removeSpecialCharsAndDiacritics(_0x30391f),_0x25468d=_0x30391f['includes'](_0x12611f)||_0x1e965d['includes'](_0x10c6a0);return _0x25468d&&_0x45991d['push'](_0x3312c5[0x1]),_0x25468d;})['classed']('search-match',!![])['each'](function(){this['parentNode']['appendChild'](this);}),_0x45991d['length']>0x0?(svg['selectAll']('.team-label')['classed']('search-dimmed',!![]),svg['selectAll']('.team-label')['filter'](function(){var _0x4f78c3=d3['select'](this)['text']();return _0x45991d['includes'](_0x4f78c3);})['classed']('search-match',!![])['classed']('search-dimmed',![])['each'](function(){this['parentNode']['appendChild'](this);}),_0x45991d['forEach'](function(_0x358c47){var _0x3f54e1='team-label-'+_0x358c47['replace'](/\s+/g,'-')['toLowerCase']();if(svg['select']('.'+_0x3f54e1)['size']()===0x0){var _0x24c8d6=filteredData['find'](function(_0x12e806){return _0x12e806[0x1]===_0x358c47;});_0x24c8d6&&(addTeamLabel(_0x24c8d6),svg['select']('.'+_0x3f54e1)['classed']('search-match',!![]));}})):(svg['selectAll']('.team-label')['each'](function(){var _0x47c581=d3['select'](this),_0x47b1de=_0x47c581['text']();!clickedCircles['includes'](_0x47b1de)&&_0x47c581['remove']();}),svg['selectAll']('circle')['style']('fill',function(_0xe077fe){return clickedCircles['includes'](_0xe077fe[0x1])?getLeagueColor(_0xe077fe[0x2]):'rgba(70,\x20130,\x20180,\x200.7)';})['style']('stroke',function(_0x2e09b5){return clickedCircles['includes'](_0x2e09b5[0x1])?'#000':'none';})['style']('stroke-width',function(_0x2b19aa){return clickedCircles['includes'](_0x2b19aa[0x1])?0x2:0x0;}));});function resetSearch(){searchBar['value']='',svg['selectAll']('circle')['classed']('search-match',![])['style']('fill',function(_0x83304a){return clickedCircles['includes'](_0x83304a[0x1])?getLeagueColor(_0x83304a[0x2]):'rgba(70,\x20130,\x20180,\x200.7)';})['style']('stroke',function(_0x31d4c4){return clickedCircles['includes'](_0x31d4c4[0x1])?'#000':'none';})['style']('stroke-width',function(_0x48fff8){return clickedCircles['includes'](_0x48fff8[0x1])?0x2:0x0;})['style']('filter','none')['each'](function(){d3['select'](this)['style']('r',null),d3['select'](this)['interrupt']();}),svg['selectAll']('.team-label')['classed']('search-match',![])['classed']('search-dimmed',![])['each'](function(){d3['select'](this)['interrupt']();}),svg['selectAll']('.team-label')['each'](function(){var _0x4f4ace=d3['select'](this),_0x3400b7=_0x4f4ace['text']();!clickedCircles['includes'](_0x3400b7)&&_0x4f4ace['remove']();});}var toggleButton=document['getElementById']('toggle-median-lines');toggleButton['addEventListener']('click',function(){medianLinesVisible=!medianLinesVisible,updateChart();const _0xedc0f0=document['getElementById']('median-lines-tooltip');window['currentTranslations']&&window['currentTranslations']['tooltip']?_0xedc0f0['textContent']=medianLinesVisible?window['currentTranslations']['tooltip']['hideMedianLines']||'Hide\x20median\x20lines':window['currentTranslations']['tooltip']['showMedianLines']||'Show\x20median\x20lines':_0xedc0f0['textContent']=medianLinesVisible?'Hide\x20median\x20lines':'Show\x20median\x20lines';});function selectAllCircles(){var _0x58cdf7=filteredData['every'](function(_0x339499){return clickedCircles['includes'](_0x339499[0x1]);});_0x58cdf7?(clickedCircles=[],svg['selectAll']('circle')['style']('fill','rgba(70,\x20130,\x20180,\x200.7)')['style']('stroke','none'),svg['selectAll']('.team-label')['remove']()):(svg['selectAll']('circle')['each'](function(_0x2871a1){!clickedCircles['includes'](_0x2871a1[0x1])&&(clickedCircles['push'](_0x2871a1[0x1]),d3['select'](this)['style']('fill',getLeagueColor(_0x2871a1[0x2]))['style']('stroke','#000')['style']('stroke-width',0x2));}),filteredData['forEach'](function(_0x1386bc){addTeamLabel(_0x1386bc);}));updateSelectAllButtonText();var _0x288bc1=document['getElementById']('select-league')['value'];updateLeagueLegend(_0x288bc1);}updateChart(),initializeCustomSelectors();function updateLeagueLegend(_0x5d57fb){var _0x211cf2=document['getElementById']('league-legend');if(_0x5d57fb!=='all'&&_0x5d57fb!=='Top\x205\x20Leagues'){_0x211cf2['style']['display']='none';return;}if(clickedCircles['length']===0x0){_0x211cf2['style']['display']='none';return;}var _0xc3a927=![];for(var _0x595967=0x0;_0x595967<filteredData['length'];_0x595967++){if(clickedCircles['includes'](filteredData[_0x595967][0x1])){_0xc3a927=!![];break;}}if(!_0xc3a927){_0x211cf2['style']['display']='none';return;}_0x211cf2['style']['display']='flex',_0x211cf2['innerHTML']='';var _0x1e9788=document['createElement']('div');_0x1e9788['style']['fontWeight']='bold',_0x1e9788['style']['marginRight']='15px',_0x211cf2['appendChild'](_0x1e9788);var _0x805563=[];if(_0x5d57fb==='all')_0x805563=Object['keys'](leagueColors);else _0x5d57fb==='Top\x205\x20Leagues'&&(_0x805563=['Premier\x20League','La\x20Liga','Bundesliga','Serie\x20A','Ligue\x201']);_0x805563['forEach'](function(_0x4b82cf){var _0x4f0950=document['createElement']('div');_0x4f0950['className']='legend-item';var _0x2e2749=document['createElement']('div');_0x2e2749['className']='legend-color',_0x2e2749['style']['backgroundColor']=leagueColors[_0x4b82cf];var _0x1ae942=document['createElement']('span');_0x1ae942['textContent']=_0x4b82cf,_0x4f0950['appendChild'](_0x2e2749),_0x4f0950['appendChild'](_0x1ae942),_0x211cf2['appendChild'](_0x4f0950);});}function addTeamLabel(_0x46584c,_0x50f070){var _0x16b334=xScale(_0x46584c[header['indexOf'](xMetric)]),_0x2b1ea1=yScale(_0x46584c[header['indexOf'](yMetric)]),_0x3308b5='team-label-'+_0x46584c[0x1]['toLowerCase']()['replace'](/\s+/g,'-');if(svg['select']('.'+_0x3308b5)['size']()>0x0)return;var _0x1f1a65=svg['append']('text')['attr']('class','temp-label')['text'](_0x46584c[0x1])['style']('font-family','Inter,\x20sans-serif')['style']('font-size','12px')['style']('opacity',0x0),_0xfbc544=_0x1f1a65['node']()['getComputedTextLength']();_0x1f1a65['remove']();var _0x1813f7=[{'dx':0x8,'dy':0x0,'anchor':'start'},{'dx':-0x8,'dy':0x0,'anchor':'end'},{'dx':0x0,'dy':-0x8,'anchor':'middle'},{'dx':0x0,'dy':0x8,'anchor':'middle'}],_0x1fd03f=[];svg['selectAll']('text.team-label')['each'](function(){var _0xa498b=this['getBBox']();_0x1fd03f['push']({'x1':_0xa498b['x']-0x2,'y1':_0xa498b['y']-0x2,'x2':_0xa498b['x']+_0xa498b['width']+0x2,'y2':_0xa498b['y']+_0xa498b['height']+0x2});});var _0x1cdc6e=null,_0x37507d=0xc,_0xf4a8c7=width,_0x495703=height;if(!_0x50f070){for(var _0x39d7db=0x0;_0x39d7db<_0x1813f7['length'];_0x39d7db++){var _0x2e9a1c=_0x1813f7[_0x39d7db],_0xbfc23e=_0x16b334+_0x2e9a1c['dx'],_0x49ee24=_0x2b1ea1+_0x2e9a1c['dy'],_0x696458={'x1':_0x2e9a1c['anchor']==='end'?_0xbfc23e-_0xfbc544:_0x2e9a1c['anchor']==='middle'?_0xbfc23e-_0xfbc544/0x2:_0xbfc23e,'y1':_0x2e9a1c['dy']<0x0?_0x49ee24-_0x37507d:_0x49ee24,'x2':_0x2e9a1c['anchor']==='start'?_0xbfc23e+_0xfbc544:_0x2e9a1c['anchor']==='middle'?_0xbfc23e+_0xfbc544/0x2:_0xbfc23e,'y2':_0x2e9a1c['dy']<0x0?_0x49ee24:_0x49ee24+_0x37507d};if(_0x696458['x1']<0x0||_0x696458['x2']>_0xf4a8c7||_0x696458['y1']<0x0||_0x696458['y2']>_0x495703)continue;var _0x3b6d8c=![];for(var _0x420c1b=0x0;_0x420c1b<_0x1fd03f['length'];_0x420c1b++){var _0xaffb00=_0x1fd03f[_0x420c1b];if(!(_0x696458['x2']<_0xaffb00['x1']||_0x696458['x1']>_0xaffb00['x2']||_0x696458['y2']<_0xaffb00['y1']||_0x696458['y1']>_0xaffb00['y2'])){_0x3b6d8c=!![];break;}}if(!_0x3b6d8c){_0x1cdc6e=_0x2e9a1c;break;}}if(!_0x1cdc6e){var _0x59b2ee=0x32,_0x51c04d=0x0;_0x1fd03f['forEach'](function(_0x377b6f){var _0x2664dc=(_0x377b6f['x1']+_0x377b6f['x2'])/0x2,_0x9144c2=(_0x377b6f['y1']+_0x377b6f['y2'])/0x2,_0x176973=Math['sqrt'](Math['pow'](_0x2664dc-_0x16b334,0x2)+Math['pow'](_0x9144c2-_0x2b1ea1,0x2));_0x176973<_0x59b2ee&&_0x51c04d++;});if(_0x51c04d>0x3)return;}}if(!_0x1cdc6e){_0x1cdc6e=_0x1813f7[0x0];var _0xbfc23e=_0x16b334+_0x1cdc6e['dx'],_0x49ee24=_0x2b1ea1+_0x1cdc6e['dy'],_0x696458={'x1':_0x1cdc6e['anchor']==='end'?_0xbfc23e-_0xfbc544:_0x1cdc6e['anchor']==='middle'?_0xbfc23e-_0xfbc544/0x2:_0xbfc23e,'y1':_0x1cdc6e['dy']<0x0?_0x49ee24-_0x37507d:_0x49ee24,'x2':_0x1cdc6e['anchor']==='start'?_0xbfc23e+_0xfbc544:_0x1cdc6e['anchor']==='middle'?_0xbfc23e+_0xfbc544/0x2:_0xbfc23e,'y2':_0x1cdc6e['dy']<0x0?_0x49ee24:_0x49ee24+_0x37507d};if(_0x696458['x1']<0x0)_0x1cdc6e=_0x1813f7[0x0];else _0x696458['x2']>_0xf4a8c7&&(_0x1cdc6e=_0x1813f7[0x1]);if(_0x696458['y1']<0x0)_0x1cdc6e=_0x1813f7[0x3];else _0x696458['y2']>_0x495703&&(_0x1cdc6e=_0x1813f7[0x2]);}var _0x4eec8f=svg['append']('text')['attr']('class','team-label\x20'+_0x3308b5)['attr']('x',_0x16b334+_0x1cdc6e['dx'])['attr']('y',_0x2b1ea1+_0x1cdc6e['dy'])['attr']('text-anchor',_0x1cdc6e['anchor'])['attr']('dominant-baseline',_0x1cdc6e['dy']<0x0?'auto':'hanging')['text'](_0x46584c[0x1])['style']('font-family','Inter,\x20sans-serif')['style']('font-size','12px')['style']('font-weight','500')['style']('fill','#333');_0x50f070&&_0x4eec8f['classed']('search-match',!![]);var _0xbe6f16=_0x4eec8f['node']()['getBBox']();_0x1fd03f['push']({'x1':_0xbe6f16['x']-0x2,'y1':_0xbe6f16['y']-0x2,'x2':_0xbe6f16['x']+_0xbe6f16['width']+0x2,'y2':_0xbe6f16['y']+_0xbe6f16['height']+0x2});}document['addEventListener']('DOMContentLoaded',function(){const _0x284858=document['getElementById']('median-lines-tooltip');_0x284858['textContent']=medianLinesVisible?'Hide\x20median\x20lines':'Show\x20median\x20lines';});
